<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>إنتل: حلول مستدامة - الصفحة الرئيسية</title>
  <meta name="description" content="اكتشف مبادرات إنتل في مجال الاستدامة البيئية والابتكار الأخضر">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* [Previous CSS styles remain exactly the same] */
  </style>
</head>
<body>
  <!-- [All previous HTML content remains exactly the same] -->

  <script>
    // Set current year in footer
    document.getElementById('current-year').textContent = new Date().getFullYear();
    
    // Form validation [Previous form validation code remains the same]
    
    // Language Detection and RTL Management
    function checkPageLanguage() {
      // List of RTL language codes
      const rtlLanguages = ['ar', 'fa', 'he', 'ur', 'ps', 'sd', 'ku'];
      
      // Detect if Google Translate is active
      const isTranslated = document.documentElement.hasAttribute('translated');
      
      // Get current language (either from html lang attribute or detected language)
      let currentLang = document.documentElement.lang;
      
      // If page is being translated by Google Translate
      if (isTranslated) {
        // Try to detect the translated language
        const translatedLang = detectGoogleTranslateLanguage();
        if (translatedLang) {
          currentLang = translatedLang;
        }
      }
      
      // Check if current language is RTL
      const isRTL = rtlLanguages.includes(currentLang);
      
      // Apply appropriate direction
      document.documentElement.dir = isRTL ? 'rtl' : 'ltr';
      
      // Add class to body for additional styling if needed
      document.body.classList.toggle('rtl-layout', isRTL);
      document.body.classList.toggle('ltr-layout', !isRTL);
      
      // Log for debugging
      console.log(`Language detected: ${currentLang}, RTL: ${isRTL}`);
    }
    
    // Detect language when Google Translate is used
    function detectGoogleTranslateLanguage() {
      // Check for Google Translate's injected elements
      const googte = document.querySelector('.goog-te-banner-frame, .goog-te-combo');
      if (googte) {
        try {
          // Try to get the selected language from Google Translate dropdown
          const select = document.querySelector('.goog-te-combo');
          if (select) {
            return select.value;
          }
          
          // Alternative method: check the iframe's URL
          const iframe = document.querySelector('.goog-te-banner-frame iframe');
          if (iframe) {
            const src = iframe.src;
            const langMatch = src.match(/[&?]hl=([^&]+)/);
            if (langMatch) {
              return langMatch[1];
            }
          }
        } catch(e) {
          console.error('Error detecting Google Translate language:', e);
        }
      }
      return null;
    }
    
    // MutationObserver to detect Google Translate changes
    const observer = new MutationObserver(function(mutations) {
      mutations.forEach(function(mutation) {
        if (mutation.type === 'attributes' && mutation.attributeName === 'translated') {
          checkPageLanguage();
        }
      });
    });
    
    // Start observing the html element for attribute changes
    observer.observe(document.documentElement, {
      attributes: true,
      attributeFilter: ['translated']
    });
    
    // Also check for language changes periodically (as fallback)
    setInterval(checkPageLanguage, 3000);
    
    // Initial check
    checkPageLanguage();
    
    // Listen for Google Translate frame load (if it loads after our script)
    window.addEventListener('load', function() {
      const googleFrame = document.querySelector('.goog-te-banner-frame');
      if (googleFrame) {
        googleFrame.addEventListener('load', checkPageLanguage);
      }
    });
  </script>
</body>
</html>
